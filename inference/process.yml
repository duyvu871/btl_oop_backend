apps:
  - name: embedding-server
    script: uv
    args: run uvicorn main:app --host 0.0.0.0 --port 8001
    interpreter: none            # không dùng Node, vì đây là lệnh hệ thống
    cwd: .       # thư mục chứa app.py hoặc code chính
    watch: false                 # bật true nếu muốn reload khi file thay đổi
    autorestart: true
    restart_delay: 5000
    max_restarts: 10
    env:
      ENV: production
      MODEL_ID: bkai-foundation-models/vietnamese-bi-encoder
      DEVICE: cpu
      API_KEY: sk-local-123
      HF_HOME: /var/cache/huggingface
      LOG_LEVEL: info
